<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="editor.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://docs.opencv.org/4.5.5/opencv.js"></script>
    
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <title>Minecraft ドット画像生成 編集ページ</title>
</head>

<header>
    <div class="site-title">編集ページ</div>
    <div class="header-links">
        <a href="help.html" target="_blank">ヘルプ</a>
    </div>
</header>

<body>    
    <main>
        <div class="bg_pattern"></div><!--背景-->

        <div class="editor" style="display: flex; align-items: center;">
            <canvas class="Canvas" id="dotCanvas" width="512" height="512" style="image-rendering: pixelated;"></canvas>
            <div class="buttons">
                <div class="BlockButton">
                    <div class="blockButton" id="wool">
                        <img src="block_img/black_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/blue_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/brown_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/cyan_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/gray_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/green_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/light_blue_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/light_gray_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/lime_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/magenta_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/orange_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/pink_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/purple_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/red_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/white_wool.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/yellow_wool.png" class="block_image" height="24px" width="24px" />
                    </div>
                    <div class="blockButton" id="concrete">
                        <img src="block_img/black_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/blue_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/brown_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/cyan_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/gray_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/green_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/light_blue_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/light_gray_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/lime_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/magenta_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/orange_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/pink_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/purple_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/red_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/white_concrete.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/yellow_concrete.png" class="block_image" height="24px" width="24px" />
                    </div>
                    <div class="blockButton" id="planks">
                        <img src="block_img/acacia_planks.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/bamboo_planks.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/birch_planks.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/cherry_planks.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/crimson_planks.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/dark_oak_planks.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/jungle_planks.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/mangrove_planks.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/oak_planks.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/pale_oak_planks.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/spruce_planks.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/warped_planks.png" class="block_image" height="24px" width="24px" />
                    </div>
                    <div class="blockButton" id="ore">
                        <img src="block_img/coal_block.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/iron_block.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/gold_block.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/redstone_block.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/emerald_block.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/lapis_block.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/diamond_block.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/netherite_block.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/quartz_block.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/amethyst_block.png" class="block_image" height="24px" width="24px" />
                        <img src="block_img/purpur_block.png" class="block_image" height="24px" width="24px" />
                    </div>      
                </div>
                
                <div class="editButton">
                    <button class="edit" id="moveButton">移動</button>
                    <button class="edit" id="drawButton">描画</button>
                    <button class="edit" id="eraseButton">消去</button>
                </div>    

                <div class="funcButton">
                    <button class="edit" id="bucket">塗りつぶし</button>
                    <button class="edit" id="dropper">スポイト</button>
                </div>

                <div class="turnButton">
                    <button class="turn" id="rot_left">左回転</button>
                    <button class="turn" id="mirror">左右反転</button>
                    <button class="turn" id="rot_right">右回転</button>
                </div>

                <div class="actionButton">
                    <button class="action" id="undo">←</button>
                    <button class="action" id="redo">→</button>
                </div>

                <div class="popupButton">
                    <button class="popupbutton" id="command_button" onclick="openPopup()">コマンド生成</button>
                </div>
            </div>

        </div>

        
        <div class="popup-overlay" id="command_popup" onclick="outsideClick(event)">
            <div class="popup-content">
                <canvas class="Canvas" id="popupCanvas" style="image-rendering: pixelated;"></canvas> <!-- ドット絵をプレビュー表示するCanvas -->
                <div class="coordinate">
                    画像左下のx座標<input type="number" class="numberbox" id="x" placeholder="画像左下のx座標" step="1" value="0">
                    <br>
                    画像左下のy座標<input type="number" class="numberbox" id="y" placeholder="画像左下のy座標" step="1" value="64">
                    <br>
                    画像左下のz座標<input type="number" class="numberbox" id="z" placeholder="画像左下のz座標" step="1" value="0">
                </div>
        
                <div class="radio-group">
                    <p>ドット画像を出力する平面の選択</p>
                    <label>
                    <input type="radio" name="axis" value="x-y">
                    x-y面
                    </label>
                    <label>
                    <input type="radio" name="axis" value="y-z">
                    y-z面
                    </label>
                    <label>
                    <input type="radio" name="axis" value="z-x" checked>
                    z-x面
                    </label>
                </div>
                <button class="edit-btn" id="commandButton">コマンド生成</button>
                <button class="close-btn" onclick="closePopup()">閉じる</button>
                <!-- <button id="commandButton"></button> -->
            </div>
        </div>
    </main>
    <script src="editor.js"></script>
</body>

</html>
